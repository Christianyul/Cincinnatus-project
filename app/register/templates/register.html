{% extends "form-struct.html" %}
{% block title %}Student register{% endblock %}
{% block content %}
    <h1>Student register</h1>
    <form action="{{url_for('RegisterRouting.registerStudent')}}" method="post" enctype="multipart/form-data">
        {{ form.csrf_token }}
        <h3>General data</h3>
        {{ render_field(form.name) }} 
        {{ render_field(form.last_name) }}
        <br>
        <input type="file" name="file" accept="image/*" />
        <br>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul>
                    {% for message in messages %}
                        <li style="color:red;"> {{ message }} </li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
        {{ render_field(form.email) }} 
        {{ render_field(form.gender) }} 
        {{ render_field(form.inscription_date) }} 
        {{ render_field(form.birthdate) }} 
        <label for="actual_course">Actual course</label>
        <select name="actual_course">
            {% for r in courses  %}
                <option value="{{ courses[courses.index(r)].id }}"> {{ courses[courses.index(r)].name }} </option>
            {% endfor %}
        </select>
        {{ render_field(form.phone_mobile) }} 
        {{errormsg}}
        {{ render_field(form.phone_home) }}
        {{errormsg}} 
        {{ render_field(form.id_document) }} 
        {{ render_field(form.status) }} 
        {{ render_field(form.marital_status) }} 
        <label for="nationality">Nationality:</label> 
        <select name="nationality">
            {% include 'countries.html' %}
        </select>
        {{ render_field(form.address) }}
        <hr>
        <h3>Medical data</h3>
        {{ render_field(form.alergies) }} 
        <label for="intensity">Intensity</label>
        <select name="intensity">
            <option value="None">None</option>
            <option value="Mild">Mild</option>
            <option value="Modest">Modest</option>
            <option value="Strong">Strong</option>
        </select>

        {{ render_field(form.special_condition) }} 
        {{ render_field(form.blood_type) }} 
        {{ render_field(form.ars) }} 
        {{ render_field(form.afiliation_type) }} 
        {{ render_field(form.policy_number) }}
        <hr> 
        <h3>Emergency contacts</h3>
        {{ render_field(form.emname) }} 
        {{ render_field(form.emlast_name) }} 
        {{ render_field(form.emphone_mobile) }} 
        {{errormsg}}
        {{ render_field(form.emphone_home) }}
        {{errormsg}} 
        {{ render_field(form.relationship) }} 
        <input type="submit" value="Enviar">
    </form>
{% endblock %}
